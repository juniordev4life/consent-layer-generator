<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />

		<title>Svelte app</title>

		<link rel="icon" type="image/png" href="/favicon.png" />
		<link rel="stylesheet" href="/global.css" />
		<!-- <link rel="stylesheet" href="/build/bundle.css" /> -->
		<!-- Matomo -->
		<script type="text/javascript">
			var _paq = (window._paq = window._paq || [])
			/* tracker methods like "setCustomDimension" should be called before "trackPageView" */
			// require user consent before processing data
			_paq.push(['requireConsent'])
			_paq.push(['trackPageView'])
			_paq.push(['enableLinkTracking'])
			;(function () {
				var u = '//matomo.dbconnect.net/'
				_paq.push(['setTrackerUrl', u + 'matomo.php'])
				_paq.push(['setSiteId', '8'])
				var d = document,
					g = d.createElement('script'),
					s = d.getElementsByTagName('script')[0]
				g.type = 'text/javascript'
				g.async = true
				g.src = u + 'matomo.js'
				s.parentNode.insertBefore(g, s)
			})()
		</script>
		<!-- End Matomo Code -->
	</head>

	<body>
		<div id="jdl-consent-layer"></div>
		<script>
			var consentLayerConfig = {
				headline: 'Consent Layer',
				bodytext: 'That os a long body text for normal hints to a consent layer behaviour',
				matomo: true,
				layers: [
					{
						name: 'Notwendige Funktionen',
						text:
							'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam',
						fieldName: 'hello',
						callbackFunction: 'hello',
						setAsDefault: true,
						cookies: [
							{
								name: 'dbc-tracking',
								description:
									'lorem ipsum dolor sit amet, consectetur adipis. lorem ipsu.',
							},
						],
					},
					{
						name: 'Marketing',
						text:
							'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam',
						fieldName: 'bye',
						callbackFunction: 'bye',
						setAsDefault: false,
						cookies: [
							{
								name: 'marketing-cookie',
								description:
									'lorem ipsum dolor sit amet, consectetur adipis. lorem ipsu.',
							},
						],
					},
				],
			}

			function hello() {
				if (document.getElementById('hello').checked === true) {
					_paq.push(['setConsentGiven'])
					_paq.push(['rememberConsentGiven'])
					console.log('SEt Tracking on')
				} else {
					_paq.push(['forgetConsentGiven'])
					_paq.push(['forgetConsentGiven'])
					console.log('SEt Tracking off')
				}
			}

			function bye() {
				console.log(document.getElementById('bye').checked)
				if (document.getElementById('bye').checked === true) {
					document.cookie = 'track=true'
					console.log(document.cookie)
				} else {
					document.cookie = 'track=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/'
					console.log(document.cookie)
				}
			}
		</script>
		<script defer src="/build/consentlayer.js"></script>
	</body>
</html>
